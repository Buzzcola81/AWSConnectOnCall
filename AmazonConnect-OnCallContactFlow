{"modules":[{"id":"0c34b444-7a5d-46c3-a823-3e5177374807","type":"PlayPrompt","branches":[{"condition":"Success","transition":"fc79d723-0ce9-457e-9328-0050e705208a"}],"parameters":[{"name":"Text","value":"directing you to the primary AWS oncall engineer now","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":673,"y":20},"useDynamic":false}},{"id":"7ee716e0-3588-423a-a7bd-c7ef291c5089","type":"PlayPrompt","branches":[{"condition":"Success","transition":"05603b8e-e493-45d2-a283-897748259aca"}],"parameters":[{"name":"Text","value":"directing you to the secondary AWS oncall engineer now","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":674,"y":172},"useDynamic":false}},{"id":"bfff4d1a-1f69-4f47-bb05-f167f15f6f87","type":"Transfer","branches":[{"condition":"Error","transition":"7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"}],"parameters":[{"name":"TimeLimit","value":"30"},{"name":"PhoneNumber","value":"+61$.External.mobile"},{"name":"SourceNumber","value":"+611800861527"},{"name":"SourceName","value":"OnCall"}],"metadata":{"position":{"x":1191,"y":16},"SourceNumber":{"id":"amzn1.cs-gacd.phonenumber.AB2K81JQ5QZ2N","text":"+611800000000","arn":null,"metricDetail":null,"resourceId":null},"CountryCode":"au"},"target":"PhoneNumber"},{"id":"fc79d723-0ce9-457e-9328-0050e705208a","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"bfff4d1a-1f69-4f47-bb05-f167f15f6f87"},{"condition":"Error","transition":"7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-2:000000000000:function:getoncall"},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"lookupteam","value":"aws","namespace":null},{"name":"Parameter","key":"lookuprank","value":"1","namespace":null}],"metadata":{"position":{"x":941,"y":19},"dynamicMetadata":{"lookupteam":false,"lookuprank":false}},"target":"Lambda"},{"id":"d6d08bad-9a18-412f-b86a-f646f7c9ec8d","type":"Transfer","branches":[{"condition":"Error","transition":"7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"}],"parameters":[{"name":"TimeLimit","value":"30"},{"name":"PhoneNumber","value":"+61$.External.mobile"},{"name":"SourceNumber","value":"+611800000000"},{"name":"SourceName","value":"OnCall"}],"metadata":{"position":{"x":1191,"y":215},"SourceNumber":{"id":"amzn1.cs-gacd.phonenumber.AB2K81JQ5QZ2N","text":"+611800000000","arn":null,"metricDetail":null,"resourceId":null},"CountryCode":"au"},"target":"PhoneNumber"},{"id":"05603b8e-e493-45d2-a283-897748259aca","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"d6d08bad-9a18-412f-b86a-f646f7c9ec8d"},{"condition":"Error","transition":"7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:ap-southeast-2:760584908251:function:getoncall"},{"name":"TimeLimit","value":"8"},{"name":"Parameter","key":"lookupteam","value":"aws","namespace":null},{"name":"Parameter","key":"lookuprank","value":"2","namespace":null}],"metadata":{"position":{"x":944,"y":222},"dynamicMetadata":{"lookupteam":false,"lookuprank":false}},"target":"Lambda"},{"id":"d2a96869-be7c-469d-910a-0cec1fe98961","type":"PlayPrompt","branches":[{"condition":"Success","transition":"83b76e76-52cc-4732-81ff-1519b0c0f132"}],"parameters":[{"name":"Text","value":"no input was detected, please call back if required","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":675,"y":386},"useDynamic":false}},{"id":"7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b","type":"PlayPrompt","branches":[{"condition":"Success","transition":"83b76e76-52cc-4732-81ff-1519b0c0f132"}],"parameters":[{"name":"Text","value":"There has been an error processing your request or we are not able to take your call right now. Please contact Operations on 03 9XXX XXXX for escalations. Goodbye.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1459,"y":205},"useDynamic":false}},{"id":"83b76e76-52cc-4732-81ff-1519b0c0f132","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1200,"y":513}}},{"id":"98a70ec0-069b-44a4-ada6-2a1810b1c675","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"0c34b444-7a5d-46c3-a823-3e5177374807"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"7ee716e0-3588-423a-a7bd-c7ef291c5089"},{"condition":"Timeout","transition":"d2a96869-be7c-469d-910a-0cec1fe98961"},{"condition":"NoMatch","transition":"d2a96869-be7c-469d-910a-0cec1fe98961"},{"condition":"Error","transition":"7c0a92c0-3a0d-4941-9d0e-2ae0e16ce58b"}],"parameters":[{"name":"Text","value":"<speak><amazon:effect name=\"drc\"> Press 1 to be forwarded to the current AWS Primary on-call engineer.\n\nPress 2 to be forwarded to the current AWS Secondary on-call engineer.\n\n</amazon:effect></speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"},{"name":"Timeout","value":"8"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":404,"y":93},"conditionMetadata":[{"id":"da1a5e6f-001f-4429-86b2-930f1a0d28b5","value":"1"},{"id":"4a6f9e5b-21f0-4aa7-b931-4e66c78e391b","value":"2"}],"useDynamic":false},"target":"Digits"},{"id":"228e5aa7-da3c-4895-9f08-9ed09db5a3c6","type":"SetVoice","branches":[{"condition":"Success","transition":"6063b277-5cd1-41fc-a069-ae76887f2a23"}],"parameters":[{"name":"GlobalVoice","value":"Amy"}],"metadata":{"position":{"x":160,"y":63}}},{"id":"6063b277-5cd1-41fc-a069-ae76887f2a23","type":"PlayPrompt","branches":[{"condition":"Success","transition":"98a70ec0-069b-44a4-ada6-2a1810b1c675"}],"parameters":[{"name":"Text","value":"You have called the Custom AWS on call support number.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":159,"y":255},"useDynamic":false}}],"version":"1","type":"contactFlow","start":"228e5aa7-da3c-4895-9f08-9ed09db5a3c6","metadata":{"entryPointPosition":{"x":28,"y":24},"snapToGrid":false,"name":"01-HCS Inbound flow (first call experience)","description":"First call experience","type":"contactFlow","status":"published","hash":"2be85af80f4de97e19dfeacbe454f0c19501a9a67b816ff2d66d4beb5d55e8e6"}}